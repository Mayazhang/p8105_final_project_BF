<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>About This Project</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="about.html">Crime Dataset Cleaning &amp; Exploring</a>
</li>
<li>
  <a href="Drug_code.html">Drug Dataset Cleaning &amp; Exploring</a>
</li>
<li>
  <a href="dashboard_Crime_Dataset.html">Plots for Crime Dataset</a>
</li>
<li>
  <a href="dashboard_Drug_Dataset.html">Plots for Drug Dataset</a>
</li>
<li>
  <a href="mailto:&lt;xz2788@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/Mayazhang/p8105_final_project_crime_drug.git">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">About This Project</h1>

</div>


<div id="load-crime-and-drug-data-and-do-some-clean-up" class="section level4">
<h4>load crime and drug data and do some clean up!</h4>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ───────────────────────────────────────────────── tidyverse 1.2.1 ──</code></pre>
<pre><code>## ✔ ggplot2 3.0.0     ✔ purrr   0.2.5
## ✔ tibble  1.4.2     ✔ dplyr   0.7.6
## ✔ tidyr   0.8.1     ✔ stringr 1.3.1
## ✔ readr   1.1.1     ✔ forcats 0.3.0</code></pre>
<pre><code>## ── Conflicts ──────────────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()</code></pre>
<pre class="r"><code>library(readxl)</code></pre>
<p>Load crime data and some primary clean up</p>
<pre class="r"><code># load data and clean up column names
# not to omit NAs
crime = readxl::read_excel(&quot;./data/crime-data-2016.xls&quot;, range = (&quot;A4:W202&quot;)) %&gt;% 
  janitor::clean_names() %&gt;% 
    rename_(population = names(.)[3],
          violent_crime_number = names(.)[4],
          violent_crime_rate = names(.)[5],
          murder_manslaughter_number = names(.)[6],
          murder_manslaughter_rate = names(.)[7],
          rape_revise_number = names(.)[8],
          rape_revise_rate = names(.)[9],
          rape_legacy_number = names(.)[10],
          rape_legacy_rate = names(.)[11],
          robbery_number = names(.)[12],
          robbery_rate = names(.)[13],
          aggravated_assault_number = names(.)[14],
          aggravated_assault_rate = names(.)[15],
          property_crime_number = names(.)[16],
          property_crime_rate = names(.)[17],
          burglary_number = names(.)[18],
          burglary_rate = names(.)[19],
          larceny_theft_number = names(.)[20],
          larceny_theft_rate = names(.)[21],
          motor_vehicle_theft_number = names(.)[22],
          motor_vehicle_theft_rate = names(.)[23]) %&gt;% 
  mutate(area = as.factor(area)) 
crime[,2:23] &lt;- as.numeric(unlist(crime[,2:23]))</code></pre>
<pre><code>## Warning: NAs introduced by coercion</code></pre>
<pre class="r"><code># fill up area name
i = 1
for (i in 0:65) {
  n = 3 * i + 1
  crime$area[n + 1] = paste0(crime$area[n]) 
  crime$area[n + 2] = paste0(crime$area[n])
  i = i + 1
}

# check head
head(crime)</code></pre>
<pre><code>## # A tibble: 6 x 23
##   area   year population violent_crime_n… violent_crime_r… murder_manslaug…
##   &lt;fct&gt; &lt;dbl&gt;      &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;
## 1 Unit…  2015  320896618        1234183              385.           15883  
## 2 Unit…  2016  323127513        1283058              397.           17250  
## 3 Unit…    NA         NA              4                3.2              8.6
## 4 Nort…  2015   56184737         180474              321.            1967  
## 5 Nort…  2016   56209510         178244              317.            1955  
## 6 Nort…    NA         NA             -1.2             -1.3             -0.6
## # ... with 17 more variables: murder_manslaughter_rate &lt;dbl&gt;,
## #   rape_revise_number &lt;dbl&gt;, rape_revise_rate &lt;dbl&gt;,
## #   rape_legacy_number &lt;dbl&gt;, rape_legacy_rate &lt;dbl&gt;,
## #   robbery_number &lt;dbl&gt;, robbery_rate &lt;dbl&gt;,
## #   aggravated_assault_number &lt;dbl&gt;, aggravated_assault_rate &lt;dbl&gt;,
## #   property_crime_number &lt;dbl&gt;, property_crime_rate &lt;dbl&gt;,
## #   burglary_number &lt;dbl&gt;, burglary_rate &lt;dbl&gt;,
## #   larceny_theft_number &lt;dbl&gt;, larceny_theft_rate &lt;dbl&gt;,
## #   motor_vehicle_theft_number &lt;dbl&gt;, motor_vehicle_theft_rate &lt;dbl&gt;</code></pre>
<p>some further clean up on crime data</p>
<pre class="r"><code># Filter out &quot;percent change&quot; in &quot;year&quot; variable
crime_clean = 
  crime %&gt;%
  filter(year != &quot;NA&quot;)

# Create a new dataframe to store the data of different large areas
crime_largearea = 
  crime_clean %&gt;%
  filter(area %in% c(&quot;United States Total&quot;, &quot;Northeast&quot;, &quot;Midwest&quot;, &quot;South&quot;, &quot;West&quot;))

# Create subtotal for each big areas
crime_northeast = 
  crime_clean %&gt;%
  filter(area %in% c(&quot;New England&quot;, &quot;Middle Atlantic&quot;))

crime_midwest = 
  crime_clean %&gt;%
  filter(area %in% c(&quot;East North Central&quot;, &quot;West North Central&quot;))

crime_south = 
  crime_clean %&gt;%
  filter(area %in% c(&quot;South Atlantic&quot;, &quot;East South Central&quot;, &quot;West South Central&quot;))

crime_west = 
  crime_clean %&gt;%
  filter(area %in% c(&quot;Mountain&quot;, &quot;Pacific&quot;, &quot;Puerto Rico&quot;))

# Change the name of &quot;area&quot; to &quot;state&quot;
colnames(crime_clean)[1] = &quot;state&quot;

# Filter out these areas in the tidied dataset
crime_clean = 
  crime_clean %&gt;%
  filter(!state %in% c(&quot;United States Total&quot;, &quot;Northeast&quot;, &quot;Midwest&quot;, &quot;South&quot;, &quot;West&quot;, &quot;New England&quot;, &quot;Middle Atlantic&quot;, &quot;East North Central&quot;, &quot;West North Central&quot;, &quot;South Atlantic&quot;, &quot;East South Central&quot;, &quot;West South Central&quot;, &quot;Mountain&quot;, &quot;Pacific&quot;, &quot;Puerto Rico&quot;))</code></pre>
<p>load drug data and clean up</p>
<pre class="r"><code># Remove the block later
drug_raw =
  read_csv(&quot;./data/drugs.csv&quot;) %&gt;%
  janitor::clean_names()</code></pre>
<pre><code>## Parsed with column specification:
## cols(
##   .default = col_integer(),
##   `Rates.Alcohol.Abuse Past Year.12-17` = col_double(),
##   `Rates.Alcohol.Abuse Past Year.18-25` = col_double(),
##   `Rates.Alcohol.Abuse Past Year.26+` = col_double(),
##   `Rates.Alcohol.Binge Past Month.12-17` = col_double(),
##   `Rates.Alcohol.Binge Past Month.18-25` = col_double(),
##   `Rates.Alcohol.Binge Past Month.26+` = col_double(),
##   `Rates.Alcohol.Dependence Past Year.12-17` = col_double(),
##   `Rates.Alcohol.Dependence Past Year.18-25` = col_double(),
##   `Rates.Alcohol.Dependence Past Year.26+` = col_double(),
##   `Rates.Alcohol.In Minors.Abuse` = col_double(),
##   `Rates.Alcohol.In Minors.Use` = col_double(),
##   `Rates.Alcohol.Need Treatment Past Year.12-17` = col_double(),
##   `Rates.Alcohol.Need Treatment Past Year.18-25` = col_double(),
##   `Rates.Alcohol.Need Treatment Past Year.26+` = col_double(),
##   `Rates.Alcohol.Perceptions of Risk.12-17` = col_double(),
##   `Rates.Alcohol.Perceptions of Risk.18-25` = col_double(),
##   `Rates.Alcohol.Perceptions of Risk.26+` = col_double(),
##   `Rates.Alcohol.Use Past Month.12-17` = col_double(),
##   `Rates.Alcohol.Use Past Month.18-25` = col_double(),
##   `Rates.Alcohol.Use Past Month.26+` = col_double()
##   # ... with 43 more columns
## )</code></pre>
<pre><code>## See spec(...) for full column specifications.</code></pre>
<pre class="r"><code>drug_data = 
  drug_raw %&gt;%
  select(year, state,
         rates_alcohol_abuse_past_year_12_17:rates_alcohol_dependence_past_year_26,
         rates_alcohol_need_treatment_past_year_12_17:rates_illicit_drugs_abuse_past_month_26, 
         rates_illicit_drugs_cocaine_used_past_year_12_17:rates_illicit_drugs_need_treatment_past_year_26,
         rates_marijuana_new_users_12_17:rates_marijuana_used_past_year_26) %&gt;%
  gather(key, value, -state, -year) %&gt;% 
  mutate(key = str_replace_all(key, c(&quot;year_&quot; = &quot;year:&quot;, &quot;month_&quot; = &quot;month:&quot;, &quot;risk_&quot; = &quot;risk:&quot;, &quot;users_&quot; = &quot;users:&quot;))) %&gt;%
  separate(key, into = c(&quot;rate&quot;, &quot;age&quot;), sep = &quot;:&quot;, extra = &quot;merge&quot;) %&gt;%
  mutate(rate = str_replace(rate, &quot;^rates_&quot;, &quot;&quot;)) %&gt;% 
  spread(rate, value)

population_data = 
  drug_raw %&gt;% 
  select(x12_17, x18_25:x26, year, state) %&gt;% 
  gather(key = &quot;age&quot;, value = &quot;popul_in_thousands&quot;, -state, -year) %&gt;% 
  mutate(age = str_replace(age, &quot;x&quot;, &quot;&quot;))

drug_clean = left_join(drug_data, population_data)</code></pre>
<pre><code>## Joining, by = c(&quot;year&quot;, &quot;state&quot;, &quot;age&quot;)</code></pre>
</div>
<div id="get-y-and-x-for-regression" class="section level4">
<h4>Get Y and X for regression</h4>
<p>Y: 51 states, each with mean crime rates (10 types of crimes)</p>
<pre class="r"><code>crime_mean_rate &lt;- 
  crime_clean %&gt;% 
  group_by(state) %&gt;% 
  select(grep(&quot;rate&quot;,names(.))) %&gt;% 
  summarise_all(funs(mean))</code></pre>
<pre><code>## Adding missing grouping variables: `state`</code></pre>
<pre class="r"><code>crime_mean_rate[,2:11] &lt;- crime_mean_rate[,2:11]/100

# check dimension
dim(crime_mean_rate) #right</code></pre>
<pre><code>## [1] 51 11</code></pre>
<pre class="r"><code>head(crime_mean_rate)</code></pre>
<pre><code>## # A tibble: 6 x 11
##   state violent_crime_r… murder_manslaug… rape_revise_rate rape_legacy_rate
##   &lt;fct&gt;            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;
## 1 Alab…             5.03           0.078             0.407            0.292
## 2 Alas…             7.68           0.075             1.32             0.949
## 3 Ariz…             4.40           0.05              0.465            0.343
## 4 Arka…             5.40           0.0675            0.696            0.498
## 5 Cali…             4.37           0.0485            0.339            0.250
## 6 Colo…             3.30           0.0345            0.626            0.458
## # ... with 6 more variables: robbery_rate &lt;dbl&gt;,
## #   aggravated_assault_rate &lt;dbl&gt;, property_crime_rate &lt;dbl&gt;,
## #   burglary_rate &lt;dbl&gt;, larceny_theft_rate &lt;dbl&gt;,
## #   motor_vehicle_theft_rate &lt;dbl&gt;</code></pre>
<p>X: 51 states, each with mean drug rate (3 types of drugs)</p>
<pre class="r"><code>drug_sum_row = drug_clean %&gt;% 
  group_by(state, age) %&gt;%
  select(-year) %&gt;% 
  summarise_all(funs(mean)) %&gt;% 
  group_by(state) %&gt;% 
  select(-age) %&gt;% 
  summarise_all(funs(sum))

drug_sum_alcohol &lt;-
  drug_sum_row %&gt;% 
  select(grep(&quot;alcohol&quot;,names(.))) %&gt;%
  mutate(alcohol_sum = rowSums(.[1:6])) %&gt;% 
  select(alcohol_sum)

drug_sum_illicit &lt;-
  drug_sum_row %&gt;% 
  select(grep(&quot;illicit&quot;,names(.))) %&gt;%
  mutate(illicit_sum = rowSums(.[1:4])) %&gt;% 
  select(illicit_sum)

drug_sum_marijuana &lt;-
  drug_sum_row %&gt;% 
  select(grep(&quot;marijuana&quot;,names(.))) %&gt;%
  mutate(marijuana_sum = rowSums(.[1:4])) %&gt;% 
  select(marijuana_sum)

drug_mean_rate &lt;- cbind(drug_sum_row$state, drug_sum_alcohol, drug_sum_illicit, drug_sum_marijuana)

head(drug_mean_rate)</code></pre>
<pre><code>##   drug_sum_row$state alcohol_sum illicit_sum marijuana_sum
## 1            Alabama    348.5669    56.19923      183.4815
## 2             Alaska    378.0608    79.76923      187.6946
## 3            Arizona    381.9392    73.02462      176.6023
## 4           Arkansas    351.6715    61.57769      182.1669
## 5         California    379.2208    73.55615      183.5223
## 6           Colorado    404.9269    90.40385      193.0815</code></pre>
<pre class="r"><code># Combine X and Y into one data frame
regression_data_raw = cbind(crime_mean_rate,drug_mean_rate) %&gt;%
  select(-rape_legacy_rate, -`drug_sum_row$state`)</code></pre>
</div>
<div id="linear-regression" class="section level4">
<h4>Linear Regression</h4>
<pre class="r"><code># Make linear models for each crime type in each state
regression_model = 
  regression_data_raw %&gt;%
  gather(key = crime_type, value = crime_rate, violent_crime_rate:motor_vehicle_theft_rate) %&gt;%
  group_by(crime_type) %&gt;%
  nest() %&gt;%
  mutate(
    linear_model = map(data, ~lm(crime_rate ~ illicit_sum + alcohol_sum + marijuana_sum, data = .x)),
    linear_model = map(linear_model, broom::tidy)) %&gt;%
  select(-data) %&gt;%
  unnest()

regression_model %&gt;% 
  filter(p.value &lt; 0.1)</code></pre>
<pre><code>## # A tibble: 5 x 6
##   crime_type              term        estimate std.error statistic p.value
##   &lt;chr&gt;                   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
## 1 murder_manslaughter_ra… illicit_sum -0.00148  0.000852     -1.73 0.0896 
## 2 murder_manslaughter_ra… marijuana_…  0.00180  0.00104       1.74 0.0890 
## 3 burglary_rate           illicit_sum -0.0705   0.0361       -1.95 0.0566 
## 4 burglary_rate           alcohol_sum -0.0315   0.0100       -3.14 0.00288
## 5 burglary_rate           marijuana_…  0.103    0.0439        2.35 0.0231</code></pre>
<ul>
<li>Put “population” into the model</li>
</ul>
<p>Set the significant level at 0.1</p>
<pre class="r"><code># Clean up the population data to get the average in each state
population_data = population_data %&gt;% 
  group_by(state, age) %&gt;% 
  summarize(mean_pop = mean(popul_in_thousands)) %&gt;% 
  group_by(state) %&gt;% 
  summarize(total_pop_thousands = sum(mean_pop))

new_reg_data = left_join(regression_data_raw, population_data)</code></pre>
<pre><code>## Joining, by = &quot;state&quot;</code></pre>
<pre><code>## Warning: Column `state` joining factor and character vector, coercing into
## character vector</code></pre>
<pre class="r"><code># Construct new regression models
new_reg_data %&gt;%
  gather(key = crime_type, value = crime_rate, violent_crime_rate:motor_vehicle_theft_rate) %&gt;%
  group_by(crime_type) %&gt;%
  nest() %&gt;%
  mutate(
    linear_model = map(data, ~lm(crime_rate ~ illicit_sum + alcohol_sum + marijuana_sum   + total_pop_thousands, data = .x)),
    linear_model = map(linear_model, broom::tidy)) %&gt;%
  select(-data) %&gt;%
  unnest() %&gt;% 
  filter(p.value &lt; 0.1)</code></pre>
<pre><code>## # A tibble: 6 x 6
##   crime_type          term          estimate   std.error statistic p.value
##   &lt;chr&gt;               &lt;chr&gt;            &lt;dbl&gt;       &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
## 1 murder_manslaughte… illicit_sum   -1.48e-3     8.62e-4     -1.71 0.0931 
## 2 murder_manslaughte… marijuana_sum  1.80e-3     1.05e-3      1.72 0.0924 
## 3 rape_revise_rate    total_pop_th… -7.93e-9     4.63e-9     -1.71 0.0935 
## 4 burglary_rate       illicit_sum   -7.10e-2     3.64e-2     -1.95 0.0570 
## 5 burglary_rate       alcohol_sum   -3.18e-2     1.01e-2     -3.14 0.00293
## 6 burglary_rate       marijuana_sum  1.03e-1     4.42e-2      2.34 0.0237</code></pre>
<p>From the results of regression model that includes “total_population” as variable, we can see that at the significant level of 0.1, the rate of murder and manslaughter is inversely related to that of illicit drug use and positively associated with marijuana use in whole population in U.S.</p>
<p>Burglary rate is negtively related to that of illicit and alcohol use while marijuana use is positively associated with burglary rate in whole population in U.S.</p>
<ul>
<li>Try bootstrap of the model of burglary rate</li>
</ul>
<pre class="r"><code>new_reg_data %&gt;%
  gather(key = crime_type, value = crime_rate, violent_crime_rate:motor_vehicle_theft_rate) %&gt;%
  filter(crime_type == &quot;burglary_rate&quot;) %&gt;% 
  modelr::bootstrap(n = 100) %&gt;% 
  mutate(
    linear_model = map(strap, ~lm(crime_rate ~ illicit_sum + alcohol_sum + marijuana_sum   + total_pop_thousands, data = .x)),
    results = map(linear_model, broom::tidy)) %&gt;% 
  select(results) %&gt;%
  unnest()</code></pre>
<pre><code>## # A tibble: 500 x 5
##    term                estimate    std.error statistic p.value
##    &lt;chr&gt;                  &lt;dbl&gt;        &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;
##  1 (Intercept)          1.23e+1 7.74            1.59   0.118  
##  2 illicit_sum         -5.51e-3 0.0409         -0.135  0.893  
##  3 alcohol_sum         -3.79e-2 0.0113         -3.36   0.00157
##  4 marijuana_sum        4.15e-2 0.0460          0.902  0.372  
##  5 total_pop_thousands -3.22e-9 0.0000000667   -0.0483 0.962  
##  6 (Intercept)          1.05e+1 6.69            1.58   0.122  
##  7 illicit_sum         -4.62e-2 0.0344         -1.34   0.185  
##  8 alcohol_sum         -3.55e-2 0.0110         -3.22   0.00235
##  9 marijuana_sum        6.11e-2 0.0387          1.58   0.121  
## 10 total_pop_thousands -2.21e-8 0.0000000266   -0.829  0.411  
## # ... with 490 more rows</code></pre>
</div>
<div id="some-graphs" class="section level4">
<h4>some graphs</h4>
<p>Group by districts(i.e. Northeast, Midwest, South, West), each district can be subdivide into smaller categories(e.g. Northeast can be divided into New England and Middle Atlantic), which is not explored at the moment(but could be later)</p>
<p>Change anything if you want (HX)</p>
<pre class="r"><code># rank areas by average violent crime rate from 2015 to 2016
crime %&gt;% 
  group_by(area) %&gt;% 
  filter(year != &quot;Percent change&quot;) %&gt;%
  summarise_each(funs(mean)) %&gt;%
  mutate(area = fct_reorder(area, violent_crime_rate)) %&gt;% 
  ggplot(aes(x = area, y = violent_crime_rate)) +
  geom_point() +
  theme_bw() +
  theme(axis.text.x = element_text(angle = 90, size = 8),
        title = element_text(size = 6))</code></pre>
<pre><code>## `summarise_each()` is deprecated.
## Use `summarise_all()`, `summarise_at()` or `summarise_if()` instead.
## To map `funs` over all variables, use `summarise_all()`</code></pre>
<p><img src="about_files/figure-html/unnamed-chunk-7-1.png" width="672" /></p>
<pre class="r"><code>ggplot(crime_clean, aes(x = violent_crime_rate)) + geom_histogram() +
  theme_bw()</code></pre>
<pre><code>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.</code></pre>
<p><img src="about_files/figure-html/distribution%20of%20violent%20crime%20rate%20for%20each%20state-1.png" width="672" /></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
