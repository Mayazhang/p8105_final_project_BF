<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="p8105_Final_Project_Team34" />


<title>p8105_Team34_Final_Project_Report</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="Drug_code.html">Drug Dataset Explore</a>
</li>
<li>
  <a href="about.html">Regression Analysis</a>
</li>
<li>
  <a href="https://p8105-finalproject-team34-crime-drug.shinyapps.io/Shiny_Map_Displaying/">Shiny Graphical Display</a>
</li>
<li>
  <a href="https://www.youtube.com/watch?v=nEqlPeCH6QE&amp;list=PLGwgTarsp82ReHt_zysockiMiav9CkEQ4&amp;index=3&amp;t=0s">
    <span class="fa fa-youtube-square"></span>
     
  </a>
</li>
<li>
  <a href="mailto:&lt;xz2788@cumc.columbia.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/Mayazhang/p8105_final_project_crime_drug.git">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">p8105_Team34_Final_Project_Report</h1>
<h4 class="author"><em>p8105_Final_Project_Team34</em></h4>
<h4 class="date"><em>2018/12/3</em></h4>

</div>


<div id="motivation-provide-an-overview-of-the-project-goals-and-motivation." class="section level2">
<h2>Motivation: Provide an overview of the project goals and motivation.</h2>
</div>
<div id="related-work-anything-that-inspired-you-such-as-a-paper-a-web-site-or-something-we-discussed-in-class." class="section level2">
<h2>Related work: Anything that inspired you, such as a paper, a web site, or something we discussed in class.</h2>
</div>
<div id="initial-questions-what-questions-are-you-trying-to-answer-how-did-these-questions-evolve-over-the-course-of-the-project-what-new-questions-did-you-consider-in-the-course-of-your-analysis" class="section level2">
<h2>Initial questions: What questions are you trying to answer? How did these questions evolve over the course of the project? What new questions did you consider in the course of your analysis?</h2>
</div>
<div id="data-source-scraping-method-cleaning-etc." class="section level2">
<h2>Data: Source, scraping method, cleaning, etc.</h2>
<ol style="list-style-type: decimal">
<li>Crime dataset</li>
</ol>
<p>1.1 Data description</p>
<p>The data was collected by FBI’s Uniform Crime Reporting (UCR) Program, which recorded different types of offenses by states, regions, or geographic divisions. The data presented each crime by volumn and rate per 100,000 inhabitants. Detailed description of columns were as follow:</p>
<ul>
<li><p>state: state names</p></li>
<li><p>year: year the offense recorded</p></li>
<li><p>population: total population of the state</p></li>
<li><p>violent_crime_number/rate: violent crime involved force or threat of force against the victims. It included four types of offenses: murder and nonnegligent manslaughter, rape, robbery, and aggravated assault.</p></li>
<li><p>columns containing murder manslaughter, rape, robbery, and aggravated assault were subdivision of violent crime</p></li>
<li><p>property_crime_number/rate: property crime indicated offenses involving property lost without force or threat of force. It included three types of offenses: burglary, larceny-theft, motor vehicle theft.</p></li>
<li><p>columns containing burglary, larceny-theft, and motor vehicle theft were subdivision of property crime</p></li>
</ul>
<p>1.2 Data cleaning</p>
<p>The crime dataset was loaded from the <a href="https://docs.google.com/spreadsheets/d/1iYhSFxs_IdRDrfrn1xqdK6uesNKWRjCIJ2GYloO0Ll8/edit#gid=249460096">google sheet</a>, detailed data cleaning steps were as follow:</p>
<ul>
<li><p>Clean up column names using ‘janitor’ packages and manually delete the subscripts of text</p></li>
<li><p>Convert column ‘area’ from character to factor</p></li>
<li><p>Remove comma in columns containing numbers and rates, followed by transformation from character to numeric</p></li>
<li><p>Fill up area names where appropriate</p></li>
<li><p>Remove ‘rape_legacy’ related columns as it has overlapping information with ‘rape_revise’ columns</p></li>
<li><p>Remove NAs and create subsets by states, region, and geographic division</p></li>
</ul>
<ol start="2" style="list-style-type: decimal">
<li>Drug dataset</li>
</ol>
<p>2.1 Data description</p>
<p>This dataset is about substance abuse (cigarettes, marijuana, cocaine, alcohol) among different age groups (12-17, 18-25, 26 or above) and states in United States from year 2002 to 2014. Data was collected from individual state as part of the NSDUH study.</p>
<p>2.2 Data cleaning</p>
<p>The dataset can be accessed through its <a href="https://think.cs.vt.edu/corgis/csv/drugs/drugs.html">original website</a>, detailed data cleaning steps were as follows:</p>
<ul>
<li><p>Mainly focused on the substance abuse of marijuana, illicit drug (cocaine) and alcohol, so selected all related columns from the whole dataset (state, year and rate of different substance abuse in different age groups)</p></li>
<li><p>Gathered all the columns except year and state</p></li>
<li><p>Replaced the strings before the age number for later separating</p></li>
<li><p>Separated the data into “age” and “rate” and obtained tidy dataset</p></li>
<li><p>Extracted population data from corresponding columns (three age groups) and kept “state” and “year” variables for later regression use</p></li>
</ul>
</div>
<div id="exploratory-analysis-visualizations-summaries-and-exploratory-statistical-analyses.-justify-the-steps-you-took-and-show-any-major-changes-to-your-ideas." class="section level2">
<h2>Exploratory analysis: Visualizations, summaries, and exploratory statistical analyses. Justify the steps you took, and show any major changes to your ideas.</h2>
<ul>
<li>Scatter point plots of crime rate:</li>
</ul>
<p>In order to visualize how the crime rate differs in different areas, regions and states, and how it change over time, we made scatter plots to show the differences at different geographic levels.</p>
<ul>
<li>Process of building shiny for drug data:</li>
</ul>
<p>As we have 51 states, three types of drugs (marijuana, illicit drug, alcohol), three age groups (12-17, 18-25, 26 or above) and four or five degree in each drug (abuse, binge, dependence, need treatment, use). We wanted to analyze the distribution of degrees in each drug in each state through the years and also the distribution of degrees in each drug in each state and in a specific age group. Moreover, there were data for rate of perception risk in marijuana and alcohol use, so we further conducted analysis of the trend of perception risk in each age group and in each state for selected drug. Thus, we created three charts in total.</p>
<p>In chart A, we first filtered specific state and drug type been selected and then built an interactive bar chart with “year” as x axis, “rate” as y axis and different degree with different colors. In chart B, similarly we mainly focused on the change through years on what proportion of people in each state obtained perception of risk of a certain drug in different age groups. Thus, we filtered all perception risk rates and then assigned different color to each age group. In chart C, we attached the importance to the trend over years on different age groups in each drug type and in each state. As a result, we colored each degree to see the change in a certain group.</p>
</div>
<div id="additional-analysis-if-you-undertake-formal-statistical-analyses-describe-these-in-detail" class="section level2">
<h2>Additional analysis: If you undertake formal statistical analyses, describe these in detail</h2>
<ul>
<li>Linear Regression:</li>
</ul>
<p>We are interested in the association between the crime rate and the drug use, so we undertake multivariable linear regression to test the significance of the estimated coefficients. The rates of various crime types are considered to be the outcome, and the amount of drug (illicit drug, alcohol and marijuana) use are the initial predictors.</p>
<p>We checked the overal distribution of outcomes and variables using package “PerformanceAnalytics”. Because of the relatively small sample size, the distributions could not be exactly normal. We do not use transformation for the outcomes.</p>
<p>After we fit the models and obtain the results for each regression, we notice that the p-values are relatively large. So we take population into consideration, and add “population” as a confounder.</p>
<p>Then, we filter the estimated coefficients with p-value less than 0.1, we found that there are three estimated coefficients with low p-value. Then we run the diagnostics for these three multivariable linear regression models. They are all good with model assumptions.</p>
<p>Then we extract the individual estimated coefficients with low p-value and their corresponding outcomes. Both murder/manslaughter and burglary rates are inversely related to alcohol use while robbery rate is positively associated to marijuana use.</p>
<p>We again checke the model assumptions for these two simple linear regression. Both of them meet the assumptions.</p>
<p>In conlusion, murder/manslaughter is negatively associated with alcohol, while burglary is positively associated with marijuana use.</p>
</div>
<div id="discussion-what-were-your-findings-are-they-what-you-expect-what-insights-into-the-data-can-you-make" class="section level2">
<h2>Discussion: What were your findings? Are they what you expect? What insights into the data can you make?</h2>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
